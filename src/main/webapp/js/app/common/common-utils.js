function transformDate(timestamp){var date=new Date(timestamp);var dateStr="";dateStr+=date.getFullYear()+"-";dateStr+=parseInt(date.getMonth()+1)+"-";dateStr+=date.getDate()+" ";dateStr+=(date.getHours()<10)?"0"+date.getHours()+":":date.getHours()+":";dateStr+=(date.getMinutes()<10)?"0"+date.getMinutes()+":":date.getMinutes()+":";dateStr+=(date.getSeconds()<10)?"0"+date.getSeconds():date.getSeconds();return dateStr}function transformYMD(timestamp){var date=new Date(timestamp);var dateStr="";dateStr+=date.getFullYear()+"-";dateStr+=(parseInt(date.getMonth()+1)<10)?"0"+parseInt(date.getMonth()+1)+"-":parseInt(date.getMonth()+1)+"-";dateStr+=(date.getDate()<10)?"0"+date.getDate():date.getDate();return dateStr}function transformDateHMS(timestamp){var date=new Date(timestamp);var dateStr="";if(date){dateStr+=(date.getHours()<10)?"0"+date.getHours()+":":date.getHours()+":";dateStr+=(date.getMinutes()<10)?"0"+date.getMinutes()+":":date.getMinutes()+":";dateStr+=(date.getSeconds()<10)?"0"+date.getSeconds():date.getSeconds()}return dateStr}function addMonth(interval,dtDate){var date=(dtDate!=null)?new Date(dtDate):new Date();interval=(interval)?parseInt(interval):0;date.setMonth(date.getMonth()+interval);var month=(date.getMonth()+1<10)?"0"+(date.getMonth()+1):date.getMonth()+1;return date.getFullYear()+'-'+month}function getFormJsonData(formId){var array=$("#"+formId).serializeArray();var objStr="{";for(var x in array){var name=array[x]["name"];var value=array[x]["value"];if(name&&value){objStr+='"'+name+'"';objStr+=":";objStr+='"'+value+'",'}}objStr=objStr.substring(0,objStr.length-1);objStr+="}";return objStr}function getFormDataAsJSON(formId){var array=$(formId).serializeArray();console.log("array-------------"+JSON.stringify(array));var objStr="{";for(var x in array){var name=array[x]["name"];var value=array[x]["value"];console.log(name+":"+value+"\n");if(name&&value){objStr+='"'+name+'"';objStr+=":";objStr+='"'+value+'",'}}objStr=objStr.substring(0,objStr.length-1);objStr+="}";return objStr}function fillForm(data,formId){var formArray=$(formId).serializeArray();var attrName;for(var x in formArray){attrName=formArray[x]["name"];if(attrName){$("input[name='"+attrName+"']").val(data[attrName]?data[attrName]:null)}}}function showMessageBox(type,message){$.bootstrapGrowl(message,{type:type,align:"right",stackup_spacing:30})}function loadTableData(t,c,d){var thead=$("#thead");var tbody=$("#tbody");if(thead){var html="<tr>";for(var x in c){if(c[x]["title"]){html+=('<th  data-column-id="'+c[x]["name"]+'">'+c[x]["title"]+"</th>")}}html+="</tr>";thead.html(html)}var html1="<tr>";for(var i in d){for(var a in c){if(d[i][c[a].name]){html1+="<td>"+d[i][c[a].name]+"</td>"}}html1+="<tr>"}tbody.html(html1)}function addNodeAfterOperation(tree,childNode){var zTree=(tree==null)?getTreeRoot():tree;var parentZNode=zTree.getNodeByParam("id",getSelectedNodeId(),null);zTree.addNodes(parentZNode,childNode,true);zTree.selectNode(zTree.getNodeByParam("id",childNode.id))}function addNodeAfterChangeOperation(tree,childNode,parentId){var zTree=(tree==null)?getTreeRoot():tree;var parentZNode=zTree.getNodeByParam("id",parentId,null);zTree.addNodes(parentZNode,childNode,true);zTree.selectNode(zTree.getNodeByParam("id",childNode.id))}function updateNode(tree,nodeName){var zTree=(tree==null)?getTreeRoot():tree;var node=getSelectedNode();node.name=nodeName.name;zTree.updateNode(node)}function getTreeRoot(){var zTree=$.fn.zTree.getZTreeObj("tree");return zTree}function getSelectedNodeId(){var zTree=$.fn.zTree.getZTreeObj("tree");var selectedNode=zTree.getSelectedNodes()[0];var id=selectedNode.id;return id}function getSelectedNode(){var zTree=$.fn.zTree.getZTreeObj("tree");var selectedNode=zTree.getSelectedNodes()[0];return selectedNode}function showMessageBox(type,message){$.bootstrapGrowl(message,{type:type,align:"right",stackup_spacing:30})}function showMessageBoxCenter(type,position,message){$.bootstrapGrowl(message,{type:type,align:position,stackup_spacing:30})}Array.prototype.indexOf=function(val){for(var i=0;i<this.length;i++){if(this[i]==val)return i}return-1};Array.prototype.remove=function(val){var index=this.indexOf(val);if(index>-1){this.splice(index,1)}};Array.prototype.removeButThis=function(val){for(var x in this){if(this[x]==val){this.clear();this.push(val)}}};Array.prototype.clear=function(){this.splice(0,this.length);console.log(this)};var replaceNull=function(obj){var result="";return result=(!obj)?"":obj};function getAllTableIdsByTableId(tableName){var records=[];$("#"+tableName+" input[type='checkbox']").each(function(i){records.push($(this).val())});console.log(records);return records}Array.prototype.unique=function(){var n={},r=[];for(var i=0;i<this.length;i++){if(!n[this[i]]){n[this[i]]=true;r.push(this[i])}}return r};function sortArr(m,n){return m>n?1:(m<n?-1:0)}function getFilePath(obj){if(obj){if(window.navigator.userAgent.indexOf("MSIE")>=1){obj.select();return document.selection.createRange().text}else if(window.navigator.userAgent.indexOf("Firefox")>=1){if(obj.files){return obj.files.item(0).getAsDataURL()}return obj.value}return obj.value}}function setFormReadStatus(formId,formLocked,except){if(formLocked){$(formId+" input").attr("readonly","readonly");$(formId+" select").attr("disabled","disabled")}else{$(formId+" input").attr("readonly","readonly").removeAttr("readonly");$(formId+" select").attr("disabled","disabled").removeAttr("disabled");for(var x in except){$("#"+except[x]).attr("readonly","readonly")}}}